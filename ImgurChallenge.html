<html>
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-52771679-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-52771679-1');
    </script>

    <title>FireMonkey</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

    <!-- Meta Data -->
    <meta name="theme-color" content="#2196F3">
    <meta content="https://i.imgur.com/VH7Ieuf.png" property="og:image" />
    <link rel="icon" type="image/x-icon" href="https://itsnotricky.github.io/assets/images/favicon.png">
    <meta content="Imgur Randomizer" property="og:title" />

    <meta content="FireMonkey's Imgur Randomizer!" property="og:description" />
    <meta content="FireMonkey's Imgur Randomizer!" name="description" />

    <!-- CSS -->
    <link href="assets/css/modesta.css" type="text/css" rel="stylesheet"> <!-- uses ModestaCSS from https://github.com/AlexFlipnote/ModestaCSS -->

    <!-- JavaScript -->
    <script src="assets/js/smoothscroll.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/jarallax.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/main.js" type="text/javascript" charset="utf-8"></script>

    <!-- Custom CSS -->
    <style>.one-full.column p, .one-full.column h1 { margin: 0; }</style>
</head>
<body>
<div class="fullscreen">
    <div data-jarallax data-speed="0.25" class="jarallax background" style="background-image: url('assets/images/bg1.gif');"></div>
    <script type="text/javascript">

    var images = ['assets/images/bg1.gif', 'assets/images/bg2.gif', 'assets/images/bg3.gif', 'assets/images/bg4.gif', 'assets/images/bg5.gif'];
    document.getElementsByClassName('background')[0].style.backgroundImage = 'url(' + images[Math.floor(Math.random() * images.length)] + ')';

  </script>
    <div class="center-object">
        <section class="me">
            <img draggable="false" src="assets/images/profile.png" class="image-title">
            <h1 class="title" style="width: 100%;text-align: center">The Imgur Challenge</h1>
            <span class="undertitle" style="width: 100%;text-align: center">Push the button below!</span>
            <span class="undertitle" style="width: 100%;text-align: center">Images will appear at the bottom, but be warned! They might be NSFW</span>
        </section>
        <div class="buttons">
            <a id="new_image" class="btn animation black hover" target="_blank">Randomize!</a>
            <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
            <script type="text/javascript">
      var chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      var digitLength = 5;

      function enableButton()
      {
          $("#new_image").removeAttr("disabled");
          $("#new_image").text("New Image");
      }

      function cancel(e)
      {
          $("#imgur_image").attr('src', ' ');
          $("#imgur_link").attr('href', '');
          $("#image_id").text("None");
          enableButton();

          if(e)
              e.stopPropagation();
          return false;
      }

      function generate()
      {
          var str = "";

          for(var i = 0; i < digitLength; i++)
          {
             var charIndex = Math.round(Math.random() * chars.length);
             str += chars.charAt(charIndex);
          }

          var url = "http://i.imgur.com/" + str + ".jpg";

          $("#new_image").attr("disabled", "disabled");
          $("#new_image").text("Loading...");
          $("#image_id").text(str);

          $("#imgur_link").attr("href", url);
          $("#imgur_image").attr('src', url).addClass('hidden');
      }



      $(document).ready(function()
      {
          $("#id_length").click(function() {
                 digitLength = 5;

          });

          $("#new_image").click(generate);
          $("#cancel_image").click(cancel);
          $("#imgur_image").error(generate);
          $("#imgur_image").load(function()
          {
              var obj = $("#imgur_image");
              if(obj.attr('src') == " ")
                  return;

              if(((obj.width() == 161) && (obj.height() == 81)) || ((obj.width() == 83) && (obj.height() == 22)))
              {
                  generate();
              }
              else
              {
                  if(console && console.log) console.log('width ' + obj.width() + ' height ' + obj.height());
                  obj.removeClass('hidden');
                  enableButton();
              }
          });

      });

    </script>
        </div>
    </div>
    <div style="height:100%;padding-left:10px;padding-top:0px;position:bottom;left:320px;top:0px;padding-top:0px;bottom:0px;margin-bottom:0px;padding-bottom:0px;overflow:hidden;right:0px;">
        <a href="" id="imgur_link" target="_blank">
            <img src=" " title="imgur image" id="imgur_image" style="border:none;max-width:100%;max-height:100%;"/>
        </a>
    </div>

    <a href="#information"><div id="fade" class="arrow bounce"></div></a>
</div>
</body>
</html>
